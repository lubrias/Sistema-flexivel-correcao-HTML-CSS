<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Dashboard - CorreX</title>
    <link rel="stylesheet" href="dashboard.css">
</head>
<body>

<header class="topbar">
    <div class="logo-area">
        <img src="CorreXlogo (1).png" alt="Logo CorreX" class="logo">
        <span class="brand">CorreX</span>
    </div>

    <nav class="menu">
        <a href="quem-somos.html">Quem somos?</a>
        <a href="dashboard.html" class="active">Dashboard</a>
        <a href="provas.html">Provas</a>
        <a href="correcao.html">Correção</a>
        <a href="planos.html">Planos</a>
        <a href="contato.html">Contate a equipe</a>
        <a href="sair.html">Sair</a>
    </nav>
</header>

<main class="container">
    <h1 class="title">Dashboard</h1>

    <div class="cards">
        <div class="card"><h2>32</h2><p>Provas cadastradas</p></div>
        <div class="card"><h2>18</h2><p>Provas corrigidas</p></div>
        <div class="card"><h2>14</h2><p>Pendentes</p></div>
        <div class="card"><h2>09/11</h2><p>Última correção</p></div>
    </div>

    <div class="section">
        <h3>Provas recentes</h3>
        <div class="recent-list">
            <div class="recent-item">
                <span>Simulado ENEM 2024</span>
                <button class="ver-btn" data-img="foto_prova1.png">Ver</button>
            </div>

            <div class="recent-item">
                <span>Prova Matemática - 3º ano</span>
                <button class="ver-btn" data-img="foto_prova2.png">Ver</button>
            </div>

            <div class="recent-item">
                <span>Redações turma A</span>
                <button class="ver-btn" data-img="redacao_1000.jpg">Ver</button>
            </div>
        </div>
    </div>

    <!-- ÁREA DE UPLOAD COM ÍCONE SVG -->
    <div class="section upload-area">
        <h3>Enviar prova digitalizada</h3>

        <div class="upload-box">

            <div class="upload-icon-wrapper">
                <svg class="upload-icon" width="42" height="42" viewBox="0 0 24 24" fill="none">
                    <path d="M12 16V4" stroke="#5ec6ff" stroke-width="2" stroke-linecap="round"/>
                    <path d="M6 10l6-6 6 6" stroke="#5ec6ff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M4 16v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2" stroke="#5ec6ff" stroke-width="2" stroke-linecap="round"/>
                </svg>
            </div>

            <p>Envie aqui a foto ou PDF da prova para correção.</p>

            <label class="upload-btn">
                Selecionar arquivo
                <input type="file" accept="image/*,.pdf">
            </label>
        </div>
    </div>

</main>

<!-- MODAL -->
<div class="modal-bg" id="modalBg" aria-hidden="true" role="dialog" aria-modal="true">
    <div class="modal-content" role="document">
        <button class="close-btn" id="modalClose" aria-label="Fechar">Fechar ✕</button>
        <img src="" alt="Visualização da prova" id="modalImage">
    </div>
</div>

<script>
    const modalBg = document.getElementById('modalBg');
    const modalImage = document.getElementById('modalImage');
    const modalClose = document.getElementById('modalClose');
    const viewButtons = document.querySelectorAll('.ver-btn');

    function openModal(imgSrc, imgAlt = 'Prova') {
        modalImage.src = imgSrc;
        modalImage.alt = imgAlt;
        modalBg.style.display = 'flex';
        modalBg.setAttribute('aria-hidden', 'false');
        document.body.style.overflow = 'hidden';
    }

    function closeModal() {
        modalBg.style.display = 'none';
        modalImage.src = '';
        modalBg.setAttribute('aria-hidden', 'true');
        document.body.style.overflow = '';
    }

    viewButtons.forEach(btn => {
        btn.addEventListener('click', () => {
            const img = btn.dataset.img || 'foto_prova1.png';
            openModal(img, btn.parentElement.querySelector('span')?.innerText || 'Prova');
        });
    });

    modalClose.addEventListener('click', closeModal);
    modalBg.addEventListener('click', (e) => {
        if (e.target === modalBg) closeModal();
    });

    window.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && modalBg.style.display === 'flex') closeModal();
    });
</script>

</body>
</html>
